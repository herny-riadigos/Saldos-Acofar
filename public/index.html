<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Saldos Acofar - Riadigos</title>
  <link rel="stylesheet" href="style.css" />

</head>

<body>
  <!-- ======== CABECERA ======== -->
  <header>
    <div class="fecha" id="fecha"></div>
    <button class="btn-riadigos" onclick="irPrincipal()">Riadigos*</button>
  </header>

  <!-- ======== BOT√ìN BUSCAR ======== -->
  <div class="buscar-container">
    <button class="btn-buscar" onclick="irBuscar()">üîç Buscar</button>
  </div>

  <!-- ======== CONTENIDO CENTRAL ======== -->
  <main>
    <div class="contenido">
      <h2 class="titulo-principal">Cierre semanal de Acofar</h2>

      <!-- üîΩ Selector de sucursal -->
      <div class="selector-farmacia">
        <button class="btn-seleccionar" onclick="toggleSelector()">Seleccionar Sucursal</button>
        <div id="listaFarmacias" class="lista-farmacias">
          <ul>
            <li onclick="seleccionarFarmacia('JBJ')">JBJ</li>
            <li onclick="seleccionarFarmacia('ALEM')">ALEM</li>
            <li onclick="seleccionarFarmacia('FARMACIA MESA')">FARMACIA MESA</li>
            <li onclick="seleccionarFarmacia('GASCON')">GASCON</li>
            <li onclick="seleccionarFarmacia('DIAGONAL')">DIAGONAL</li>
            <li onclick="seleccionarFarmacia('MRL')">MRL</li>
            <li onclick="seleccionarFarmacia('GRAMA')">GRAMA</li>
            <li onclick="seleccionarFarmacia('ORTEGA')">ORTEGA</li>
            <li onclick="seleccionarFarmacia('RIMATU')">RIMATU</li>
            <li onclick="seleccionarFarmacia('RM')">RM</li>
            <li onclick="seleccionarFarmacia('GUEMES Y SHOPPING')">GUEMES Y SHOPPING</li>
            <li onclick="seleccionarFarmacia('SAN MARTIN')">SAN MARTIN</li>
          </ul>
        </div>

        <p id="farmaciaSeleccionada" class="farmacia-seleccionada">Sucursal no seleccionada</p>
      </div>

      <!-- üóìÔ∏è Datos de Semana -->
      <div class="datos-semana">
        <label>Semana:
          <input type="text" id="semanaInput" placeholder="Ej: 08/12/2025" />
        </label>
        <label>Resumen:
          <input type="text" id="resumenInput" placeholder="Ej: 2520" />
        </label>
      </div>

      <!-- üßæ Tabla de carga -->
      <div class="tabla-semanal">
        <table id="tablaSemanal">
          <thead>
            <tr>
              <th>D√≠a</th>
              <th>Clover</th>
              <th>Posnet</th>
              <th>Total D√≠a</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Lunes</td>
              <td contenteditable="true"></td>
              <td contenteditable="true"></td>
              <td>$0,00</td>
            </tr>
            <tr>
              <td>Martes</td>
              <td contenteditable="true"></td>
              <td contenteditable="true"></td>
              <td>$0,00</td>
            </tr>
            <tr>
              <td>Mi√©rcoles</td>
              <td contenteditable="true"></td>
              <td contenteditable="true"></td>
              <td>$0,00</td>
            </tr>
            <tr>
              <td>Jueves</td>
              <td contenteditable="true"></td>
              <td contenteditable="true"></td>
              <td>$0,00</td>
            </tr>
            <tr>
              <td>Viernes</td>
              <td contenteditable="true"></td>
              <td contenteditable="true"></td>
              <td>$0,00</td>
            </tr>
            <tr>
              <td>S√°bado</td>
              <td contenteditable="true"></td>
              <td contenteditable="true"></td>
              <td>$0,00</td>
            </tr>
            <tr>
              <td>Domingo</td>
              <td contenteditable="true"></td>
              <td contenteditable="true"></td>
              <td>$0,00</td>
            </tr>
            <tr class="fila-total">
              <td><strong>Total Semana</strong></td>
              <td id="totalClover">$0,00</td>
              <td id="totalPosnet">$0,00</td>
              <td id="totalGeneral">$0,00</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- üíæ Bot√≥n Guardar -->
      <div class="guardar-container">
        <button class="btn-guardar" onclick="guardarTabla()">üíæ Guardar Semana</button>
      </div>
    </div>
  </main>

  <!-- üî• Firebase COMPATIBLE SDK (v9.6.10) -->
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "TU_API_KEY",
    authDomain: "TU_DOMINIO.firebaseapp.com",
    projectId: "TU_PROJECT_ID",
    storageBucket: "TU_BUCKET.appspot.com",
    messagingSenderId: "TU_SENDER_ID",
    appId: "TU_APP_ID"
  };

  // Inicializa Firebase usando la versi√≥n compat
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  async function guardarEnFirebase(registro) {
    try {
      await db.collection("cierres").add(registro);
      alert("‚úÖ Semana guardada en la nube correctamente.");
    } catch (e) {
      console.error("‚ùå Error al guardar en Firebase:", e);
      alert("Error al guardar en la nube. Ver consola.");
    }
  }
</script>

  <script src="utilidades.js"></script>

</body>

</html>